---
# tasks file for docker

#- include_vars: "{{ ansible_distribution_release }}.yml"
#- include_vars: "{{ item }}"
#  with_first_found:
#    - "{{ ansible_distribution_release }}.yml"
#    - "{{ ansible_os_family }}.yml"
#    - "default.yml"

- group:
    name: docker
    state: present

- file:
    path: /etc/ansible/group_vars
    state: directory
    mode: 0755

- name: create global/vars file for Ansible
  copy:
    src: group_vars.all
    dest: /etc/ansible/group_vars/all
    owner: root
    group: root
    mode: 0644

- name: create a directory for Docker logging
  file:
    path: /var/log/docker
    state: directory
    owner: '{{ vm_user }}'
    group: docker
    mode: 0775
  become: true

- include: "{{ ansible_distribution_release }}.yml"
